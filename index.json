{
  "index.html": {
    "href": "index.html",
    "title": "",
    "keywords": "About A toolset for deploying data to Azure Cosmos DB as part of a cloud-native application, designed for straightforward integration with CI/CD pipelines. The package format is based on the Common Data Model (CDM) and the Open Packaging Conventions (OPC) standards. Supported deployment operations: create - creates the document with the partition key value and ID if it doesn't exist. update - creates the document with the partition key value and ID if it doesn't exist, or update the document if it exists. delete - deletes the document with the partition key value and ID if it exists. The command-line interface: Usage: cotopaxi [command] [options] Commands: pack <project> <package> Creates a data package for Azure Cosmos DB deploy <package> Deploys a data package to an Azure Cosmos DB instance Usage: cotopaxi pack <project> <package> [options] Arguments: <project> Specifies the input project path <package> Specifies the output package path Usage: cotopaxi deploy <package> [options] Arguments: <package> Specifies the package to deploy Options: --connection-string <connection-string> Specifies the connection string (defaults to COSMOS_CONNECTION_STRING environment variable) --endpoint <endpoint> Specifies the endpoint (defaults to COSMOS_ENDPOINT environment variable) --key <key> Specifies the account key or resource token (defaults to COSMOS_KEY environment variable) Note Any existing system generated properties _attachments, _etag, _rid, _self, and _ts are not included in a package. Example - creating a data package An example project file: { \"databases\": [ { \"name\": \"adventureworks\", \"containers\": [ { \"name\": \"products\", \"operations\": [ { \"name\": \"upsert\", \"sources\": [ \"documents/adventureworks/products.json\" ] } ] } ] } ] } An example command line and output: cotopaxi pack project.json package.cdbpkg Reading /home/vsts/work/1/s/contoso/project.json Reading /home/vsts/work/1/s/contoso/documents/adventureworks/products.json Packing urn:cdbpkg:db93b376-c02e-4673-8ade-72485eb2c07c for UPSERT in adventureworks\\products Packing urn:cdbpkg:db93b376-c02e-4673-8ade-72485eb2c07c:0 - OK Created /home/vsts/work/1/s/contoso/package.cdbpkg Example - deploying a data package An example command line and output: cotopaxi deploy package.cdbpkg Unpacking /home/vsts/work/1/a/contoso/package.cdbpkg Deploying the package to https://contoso.documents.azure.com:443 Acquiring partition key paths for adventureworks\\products - OK (HTTP 200, 2 RU) Deploying urn:cdbpkg:db93b376-c02e-4673-8ade-72485eb2c07c to adventureworks\\products UPSERT urn:cdbpkg:db93b376-c02e-4673-8ade-72485eb2c07c:0 - OK (HTTP 200, 10.29 RU) Deploying the package to https://contoso.documents.azure.com:443 - DONE (12.29 RU) Project JSON schemas The package project schema: { \"$schema\": \"https://json-schema.org/draft/2020-12\", \"type\": \"object\", \"properties\": { \"databases\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"name\": { \"type\": \"string\", \"minLength\": 1, \"maxLength\": 256 }, \"containers\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"name\": { \"type\": \"string\", \"minLength\": 1, \"maxLength\": 256 }, \"operations\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"name\": { \"type\": \"string\", \"enum\": [ \"create\", \"upsert\", \"delete\" ] }, \"sources\": { \"type\": \"array\", \"items\": { \"type\": \"string\", \"minLength\": 1 }, \"uniqueItems\": true } }, \"required\": [ \"name\", \"sources\" ] } } }, \"required\": [ \"name\", \"operations\" ] } } }, \"required\": [ \"name\", \"containers\" ] } } }, \"required\": [ \"databases\" ] } The package project source schema: { \"$schema\": \"https://json-schema.org/draft/2020-12\", \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"id\": { \"type\": \"string\", \"minLength\": 1, \"maxLength\": 255 } }, \"required\": [ \"id\" ] } }"
  },
  "topics/package.html": {
    "href": "topics/package.html",
    "title": "",
    "keywords": "Format The CDM namespace and URI scheme for the OPC package is opc. The CDM manifest has a package-level OPC relationship of type http://microsoft.com/cdm/schema.manifest.cdm.json. The CDM entity for data partitions is named cosmosdb.document and has the following attributes: Name Format Purpose database string The target database name container string The target container name operation string The operation to perform References Microsoft - Common Data Model ECMA - Open Packaging Conventions"
  }
}